<div class="nav navbar-dark search-bar justify-content-center">
  {{!-- <div class="search mt-3">
    <form action="/">
      <div class="input-group">
        <h5>輸入搜尋日期：</h5>
        <p>from</p>
        <input type="date" name="date1" class="form-control">
        <p>to</p>
        <input type="date" name="date2" class="form-control">
        <div class="input-group-append">
          <button class="btn btn-major ml-1" type="submit" id="search-button"><i class="fas fa-search"></i></button>
        </div>

      </div>
    </form>
  </div> --}}
  <!--filter dropdown button-->
  <div class="dropdown mt-3 mb-3">
    <button type="button" class="btn btn-outline-secondary dropdown-toggle monthDropdownBtn" data-toggle="dropdown"
      aria-haspopup="true" aria-expanded="false" data-item="{{filterMonth}}">
      {{#if filterMonth}}
      {{{filterMonth}}} 月份
      {{else}}
      不按月份
      {{/if}}
    </button>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="/?filterMonth=&filterCategory={{filterCategory}}">不按月份</a>
      {{#each monthList}}
      <a class="dropdown-item monthDropdownItem"
        href="/?filterMonth={{this.number}}&filterCategory={{filterCategory}}">{{this.name}}</a>
      {{/each}}
    </div>
  </div>

  <div class="dropdown mt-3 mb-3">
    <button type="button" class="btn btn-outline-secondary dropdown-toggle ml-2 categoryDropdownBtn"
      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-item="{{filterCategory}}">
      {{#if filterCategoryChineseName}}
      {{{filterCategoryChineseName}}} 類別
      {{else}}
      不按類別
      {{/if}}
    </button>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="/?filterMonth={{filterMonth}}&filterCategory=">不按類別</a>
      {{#each categoryList}}
      <a class="dropdown-item categoryDropdownItem"
        href="/?filterMonth={{filterMonth}}&filterCategory={{@key}}">{{this.chineseName}}</a>
      {{/each}}
    </div>
  </div>

</div>


<div class="container">
  <div class="head">
    <p>總消費金額：<span style="color: red;">{{{totalAmount}}}</span></p>
  </div>
  <ul class="list">
    {{#each records}}
    <li>
      <div class="d-inline-block">
        <h4>{{this.name}}</h4>
        <span>{{formatTime this.date}}</span>
      </div>
      <div class="d-inline-block">
        <span style="font-size: 20px; line-height:60px;">{{this.amount}}</span>
      </div>
      <div class="mt-2 d-inline-block">
        <a class="btn btn-outline-primary" href="/records/{{this._id}}/edit">編輯</a>
        <button type="button" class="btn btn-outline-danger ml-3" data-toggle="modal"
          data-target="#trigger-deleteItem-{{this._id}}">刪除</button>
      </div>
    </li>



    <!-- Delete attention -->
    <div class="modal fade" id="trigger-deleteItem-{{this._id}}" tabindex="-1" role="dialog"
      aria-labelledby="deleteModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteModalLabel">執行刪除確認</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            請問您確定要刪除這筆紀錄-{{this.name}} {{this.amount}}
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <form action="/records/{{this._id}}/delete?_method=DELETE" method="POST" style="display: inline;">
              <button type="submit" class="btn btn-danger mt-3">Delete</button>
            </form>
          </div>
        </div>
      </div>
    </div>


    {{/each}}
  </ul>
</div>